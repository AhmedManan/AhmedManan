# name: Latest blog posts & YouTube videos workflow
# on:
#   schedule:
#     # Runs every Sunday at midnight
#     - cron: '0 0 * * 0'
# jobs:
#   update-readme-with-blog:
#     name: Update this repo's README with latest blog posts
#     runs-on: ubuntu-latest
#     steps:
#       - uses: actions/checkout@v2
#       - uses: gautamkrishnar/blog-post-workflow@master
#         with:
#           feed_list: 'https://mananacademy.com/feed/'

name: Latest blog posts & YouTube videos workflow
on:
  schedule:
    # Runs every Sunday at midnight
    - cron: '0 0 * * 0'
  workflow_dispatch:
jobs:
  update-readme:
    name: Update README with latest blog posts and YouTube videos
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      # üìù Blog posts section
      - uses: gautamkrishnar/blog-post-workflow@master
        with:
          feed_list: "https://mananacademy.com/feed/"
          max_post_count: 5
          section_name: "BLOG-POST-LIST"

      # üé• YouTube videos (grid style)
      - uses: gautamkrishnar/blog-post-workflow@master
        with:
          feed_list: "https://www.youtube.com/feeds/videos.xml?channel_id=UCvRyt8shUdK-soy-UgM1vZA"
          max_post_count: 4
          section_name: "YOUTUBE-VIDEOS"
          template: "<td align='center'><a href='${url}' target='_blank'><img src='https://img.youtube.com/vi/${videoId}/hqdefault.jpg' width='240' height='135'/><br/><sub>${title}</sub></a></td>"
          committer_username: "github-actions[bot]"
          committer_email: "github-actions[bot]@users.noreply.github.com"
